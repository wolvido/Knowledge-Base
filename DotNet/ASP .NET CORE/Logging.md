When a user encounters an error, you need a logging mechanism to find out what actions the user took or whatever else info needed.
The main purpose of logging is to identify what went wrong.
#### Logging Levels
1. **Debug:** Used for detailed messages typically helpful during development and debugging but not suitable for production environments.
	**`ILogger.LogDebug("log_message")`**.
2. **Info (Information):** Provides general information about the application's operation. These messages are usually used to track the flow of the application.
	 **`ILogger.LogInformation("log_message")`**.
3. **Warning:** Indicates potential issues that are not necessarily errors but may require attention. It's a way to alert developers or administrators to potential problems. Usually means something happened that's not suppose to happen but doesn't break anything.
	 **`ILogger.LogWarning("log_message")`**.
4. **Error:** Signifies that an error has occurred, but the application can still continue running. It's a more severe issue than a warning but doesn't necessarily lead to a program crash.  They are essentially exceptions.
	 **`ILogger.LogError("log_message")`**.
5. **Critical (or Fatal):** Indicates a severe error that is likely to cause the application to crash or become unusable. It requires immediate attention.
	 **`ILogger.LogCritical("log_message")`**.
# Config
The minimum level of logging is determined in [[Configurations]] aka appsettings. By default the **Information** is the minimum and **debug** will not show. 
![[Pasted image 20240222163520.png]]
- **"Default"** is default logging level for all parts of your application.
- **"Microsoft.AspNetCore"** targets the logging generated by the Microsoft.AspNetCore. Useful to reduce the volume of logs generated by Microsoft.AspNetCore or other namespace and focus on warnings to critical.
#### Generate Logging
There are many ways to generate logging, one way is through using the `WebApplication` object in program.cs:
```c#
app.Logger.LogDebug("debug message");
app.Logger.LogInformation("log info");
app.Logger.LogWarning("warning");
app.Logger.LogError("error");
app.Logger.LogCritical("critical info");
```
>[!warning] its not a good practice to log static messages that don't change, try to use [[Structured Logging - Serilog]].
#### Logging Providers
Where are the logs displayed?
- **Server Debug Console** - All the logging is displayed in the server debug console. In Development you will see it in the kestrel debug console (the one that pops out when you run an app).
- **Output-debug** - It is also displayed in the output-debug of the IDE when you run debug mode.
	![[Capture 46.png]]
- **Windows Event Viewer** - Only works in windows. Open windows event viewer, in custom views/administrative events you will see all the logging, But the minimum log level is warning and there is no critical, so only warning to critical is displayed here and critical is also error.
###### You can also add or remove which Logging providers will display logs
in your program.cs:
```c#
builder.Logging.ClearProviders(); //remove all providers, no logging is provided.

builder.Logging.AddConsole(); //add server debug console as a provider of logging.

builder.Logging.AddConsole().AddDebug().AddEventLog();
	//add server debug console, and output-debug, and Windows event viewer as logging provider.
```
>[!warning]
>the samples above are only using built in logging, in a real world project, you might need to use more than the built in.
# What next?
- How do you actually use logger in real world use cases? how to write actual log in Controllers, Services, Repository, or other classes? [[Logging in Classes]].
- How do we log incoming http requests and responses? [[HTTP Logging]].
- The built in asp.net logging can only store log, in the server debug, event viewer, and IDE output; we need to use logging frameworks like [[Serilog]], so we can store log in other destinations like database or file.
- Logging best practice [[Structured Logging - Serilog]].